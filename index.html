<!DOCTYPE html>
<html lang="es">
< video: "RELOJ_CONGELAR.mp4", color: "#bf00ff" }, "btn-m": { texto: "M", label: "MYSTERIUM", valor: 15, video: "RELOJ_ROMPER.mp4", color: "#bf00ff" } } },
            8: { id: 8, nombre: "GRIMORIUM UMBRA", elemento: "DIMENSIO", imgEscudo: "ESCUDO_LIBRO.png", tipo: "ARTEFACTO", botones: { "btn-i": { texto: "I", label: "IMPETUS", valor: 9, video: "LIBRO_ABRIR.mp4", color: "#bf00ff" }, "btn-a": { texto: "A", label: "AUXILIUM", valor: 8, video: "LIBRO_LEER.mp4", color: "#bf00ff" }, "btn-t": { texto: "T", label: "TUTELA", valor: 7, video: "LIBRO_CERRAR.mp4", color: "#bf00ff" }, "btn-m": { texto: "M", label: "MYSTERIUM", valor: 12, video: "LIBRO_QUEMAR.mp4", color: "#bf00ff" } } },
            9: { id: 9, nombre: "LAPIS AETHER", elemento: "CAELUM", imgEscudo: "ESCUDO_PIEDRA.png", tipo: "ARTEFACTO", botones: {head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DOMUS MAGI V43</title>
    
    <script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
        "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/",
        "mindar-image-three":"https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-three.prod.js"
      }
    }
    </script>

    <style>
        body { margin: 0; overflow: hidden; font-family: 'Arial Black', Gadget, sans-serif; background: #000; color: white; }
        
        #container-ar { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 0; }
        video { display: block; } 

        .pantalla { 
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start; 
            z-index: 1000; background: #000; overflow-y: auto; padding: 10px; box-sizing: border-box; 
        }
        .oculto { display: none !important; }
        .full-center { justify-content: center; }
        
        /* BOTONES MAESTROS */
        .btn-master {
            padding: 20px; font-size: 22px; background: #bf00ff; color: white;
            border: 4px solid #fff; border-radius: 15px; cursor: pointer;
            box-shadow: 0 0 15px #bf "btn-i": { texto: "I", label: "IMPETUS", valor: 7, video: "PIEDRA_DISPARAR.mp4", color: "#bf00ff" }, "btn-a": { texto: "A", label: "AUXILIUM", valor: 6, video: "PIEDRA_ABSORBER.mp4", color: "#bf00ff" }, "btn-t": { texto: "T", label: "TUTELA", valor: 9, video: "PIEDRA_CAMPO.mp4", color: "#bf00ff" }, "btn-m": { texto: "M", label: "MYSTERIUM", valor: 11, video: "PIEDRA_ESTALLIDO.mp4", color: "#bf00ff" } } }
        };

        let jugadores = []; let cantJugadores = 0; let slotActual = 0; let turnoJugadorIdx = 0; const MAX_SLOTS = 3; let jugadaPendiente = null;
        let historialPartidas = []; let contadorPartidas = 0;

        function navegar(oc, mo) { document.getElementById(oc).classList.add('oculto'); document.getElementById(mo).classList.remove('oculto'); }
        function irMenuPrincipal() { navegar('p-inicio', 'p-menu-principal'); const v = document.getElementById('intro-video'); v.muted = false; v.play().catch(()=>{}); }
        function irDados() { navegar('p-menu-principal', 'p-dados'); }

        function tirarDadosSolo() {
            const vid = document.getElementById('video-dados-solo');
            const layer = document.getElementById('layer-valor-solo');
            layer.style.display = 'none';
            vid.currentTime = 0;
            vid.play();
            vid.onended = () => {
                const val = Math.floor(Math.random()*6)+1 + Math.floor(Math.random()*6)+1;
                layer.innerText = val;
                layer.style.display = 'flex';
            };
        }

        function seleccionarModo() { navegar('p-menu-principal', 'p-setup'); }
        function setModo(n) { cantJugadores = n; document.getElementById('00ff; text-transform: uppercase; font-weight: 900;
            margin: 10px 0; width: 100%; text-shadow: 2px 2px 0 #000;
        }

        /* FILAS DE MENU */
        .fila-juego { display: flex; width: 100%; gap: 10px; margin: 10px 0; }
        .btn-jugar { flex: 2; padding: 25px; font-size: 20px; font-weight: 900; border: 3px solid white; border-radius: 15px; cursor: pointer; color: white; text-transform: uppercase; text-shadow: 2px 2px 0 #000; }
        .btn-info { flex: 1; padding: 25px; font-size: 24px; font-weight: bold; background: #444; border: 3px solid #777; border-radius: 15px; color: #fff; cursor: pointer; }

        .grid-casas { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; width: 100%; }
        .btn-casa { padding: 30px 10px; font-size: 18px; font-weight: 900; border: 3px solid white; border-radius: 15px; cursor: pointer; color: white;setup-selector').classList.add('oculto'); document.getElementById('registro').classList.remove('oculto'); document.getElementById('reg-status').innerText = `Mago 1 de ${n}`; }

        function registrarMago(casa, color, esc) {
            let n = document.getElementById('mago-nombre').value || "Mago " + (jugadores.length + 1);
            jugadores.push({ nombre: n, casa, color, esc, slots: [null, null, null], dado: 0 });
            document.getElementById('mago-nombre').value = "";
            if(jugadores.length === cantJugadores) { iniciarJuego(); } else { document.getElementById('reg-status').innerText = `Mago ${jugadores.length + 1} de ${cantJugadores}`; }
        }

        function iniciarJuego() { navegar('p-setup', 'ui-juego'); window.iniciarAR(); actualizarUI(); }

        function actualizarUI() {
            const j = jugadores[turnoJugadorIdx];
            document.getElementById('txt-turno').innerText = `TURNO: ${j.nombre}`;
            document.getElementById('txt-turno').style.color = j.color;
            document.getElementById('slot-indicator').innerText = `${slotActual + 1} / ${MAX_SLOTS}`;
            
            const infoRival = document.getElementById('info-rival');
            if (turnoJugadorIdx % 2 !== 0 && jugadores[turnoJugadorIdx-1].slots[slotActual]) {
                infoRival.style.display = 'block';
                const cr = jugadores[turnoJugadorIdx-1].slots[slotActual];
                document text-shadow: 2px 2px 0 #000; text-transform: uppercase; }

        /* UI JUEGO */
        #ui-juego { position: fixed; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; z-index: 500; pointer-events: none; }
        
        #zona-superior { 
            height: 50%; width: 100%; position: relative; 
            display: flex; justify-content: center; align-items: center;
            border-bottom: 4px solid gold; background: rgba(0,0,0,0.1); 
        }

        #txt-turno { 
            position: absolute; top: 10px; left: 10px; z-index: 15;
            background: rgba(0,0,0,0.8); color: white; padding: 10px 20px; 
            border: 2px solid white; font-weight: 900; font-size: 24px; 
            text-shadow: 2px 2px 0 #000;
        }

        /* HUD DERECHO */
        #hud-derecho {
            position: absolute; top: 10px; right: 10px; z-index: 50;
            display: none; flex-direction: column; align-items: flex-end;
            text-align: right; pointer-events: none;
        }
        #hud-img-escudo { width: 70px; height: 70px; object-fit: contain; margin-bottom: 5px; filter: drop-shadow(0 0 5px gold); }
        .hud-fila-.getElementById('rival-last-move').innerText = `${cr.nombre} (${cr.elemento})`;
            } else { infoRival.style.display = 'none'; }

            document.getElementById('msg-visor').style.display = 'block';
            document.getElementById('guia-scanner').className = '';
            document.getElementById('hud-derecho').style.display = 'none'; 
            resetBotones();
            jugadaPendiente = null;
        }

        function mostrarPantallaCambio() {
            const nextJ = jugadores[turnoJugadorIdx];
            const pantalla = document.getElementById('pantalla-cambio-turno');
            pantalla.style.background = nextJ.color;
            document.getElementById('next-player-name').innerText = nextJ.nombre;
            pantalla.style.display = 'flex';
        }
        function confirmarCambioTurno() { document.getElementById('pantalla-cambio-turno').style.display = 'none'; actualizarUI(); }

        function forzarBatalla() {
            if(slotActual === 0 && turnoJugadorIdx < cantJugadores) { alert("Â¡Todos deben jugar al menos 1 carta!"); return; }
            if(confirm("Â¿Seguro que quieres forzar la batalla?")) { iniciarFaseDadosBatalla(); }
        }

        /* --- V43 LOGICA DE CONTINUAR / SALIR --- */
        function continuarContienda() {
            slotActual = 0; turnoJugadorIdx = 0;
            jugadores.forEach(j => { j.slots = [null, null, null]; j.dado = 0; });
            // Volver al juego
            navegar('p-resultado', 'ui-juego');
            actualizarUI();
            alert("Â¡SIGUIENTE RONDA! Â¡datos {
            display: flex; align-items: center; gap: 10px;
            background: rgba(0,0,0,0.6); padding: 5px 10px; border-radius: 10px; border: 1px solid #777;
        }
        #hud-txt-accion { font-size: 20px; color: white; font-weight: 900; text-transform: uppercase; }
        #hud-txt-valor { font-sizeA LUCHAR!");
        }

        function salirTotal() {
            if(confirm("Â¿Salir y borrar todo el progreso?")) {
                location.reload();
            }
        }

        let idxDado = 0;
        function iniciarFaseDadosBatalla() {
            idxDado = 0;
            document.getElementById('modal-dados-fase').style.display = 'flex';
            secuenciaDadosJugador();
        }

        function secuenciaDadosJugador() {
            if(idxDado >= cantJugadores) {: 50px; color: gold; font-weight: 900; line-height: 1; text-shadow: 3px 3px 0 #000; }

        #guia-scanner { width: 220px; height: 220px; border: 6px solid red; border-radius: 20px; transition: 0.3s; z-index: 10; }
        #guia-scanner.verde { border-color: #0f0; box-shadow: 0 0 40px #0f0; }

        #video-action { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: contain; background: black; z-index: 20; display: none; }

        #zona-inferior { 
            height: 50%; width: 100%; background: rgba(10,10,10,0.98); 
            pointer-events: auto; display: flex; flex-direction: column; 
            align-items: center; justify-content: space-around; padding: 10px;
        }

        #slot-container { font-size: 20px; color: #aaa; margin: 5px; }
        #slot-indicator { font-size: 35px; color: gold; font-weight: 900; text-shadow: 2px 2px 0 #000; }

        .btn-gema {
            width: 75px; height: 75px; border-radius: 15px; border: 3px solid #555;
            background:
                setTimeout(() => {
                    document.getElementById('modal-dados-fase').style.display = 'none';
                    iniciarClashFinal();
                }, 1000);
                return;
            }

            const jug = jugadores[idxDado];
            const nameEl = document.getElementById('dados-player-name');
            const vid = document.getElementById('video-dados-batalla');
            const layer = document.getElementById('layer-valor-batalla');

            nameEl.innerText = jug.nombre;
            nameEl.style.color = jug.color;
            layer.style.display = 'none';
            vid.currentTime = 0;
            vid.play();

            vid.onended = () => {
                const val = Math.floor(Math.random()*6)+1 + Math.floor(Math.random()*6)+1;
                jug.dado = val; 
                layer.innerText = val;
                layer.style.display = 'flex';
                setTimeout(() => { idxDado++; secuenciaDadosJugador(); }, 2000);
            };
        }

        function iniciarClashFinal() {
            document.getElementById('modal-batalla').style.display = 'flex';
            const txtVs = document.getElementById('texto-vs');
            
            if(cantJugadores === 2) {
                txtVs.innerHTML = `<span style="color:${jugadores[0].color}">${jugadores[0].nombre}</span> <span style="color:white; font-size:18px;">VS</span> <span style="color:${jugadores[1].color}">${jugadores[1].nombre}</span>`;
            } else {
                txt #222; color: #555; display: flex; flex-direction: column; align-items: center;
            justify-content: center; cursor: pointer; transition: all 0.3s; opacity: 0.6;
        }
        .letra-grande { font-size: 28px; font-weight: 900; display:block; }
        .btn-gema.activo { opacity: 1; border-color: white; transform: scale(1.1); color: black !important; text-shadow: none; }
        
        #btn-forzar { font-size: 12px; padding: 10px 5px; margin: 0; flex: 0.8; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

        /* MODAL FASE DADOS */
        #modal-dados-fase {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: #000; z-index: 9500; display: none;
            flex-direction: column; align-items: center; justify-content: center;
        }
        .dados-container { position: relative; width: 300px; height: 300px; border: 4px solid gold; box-shadow: 0 0 30px goldVs.innerHTML = "BATALLA REAL";
            }

            const vidClash = document.getElementById('video-clash');
            vidClash.src = RUTA_BASE + VIDEOS_BATALLA[Math.floor(Math.random() * VIDEOS_BATALLA.length)];
            vidClash.play().catch(e => console.error(e));
            vidClash.onended = () => { document.getElementById('modal-batalla').style.display = 'none'; mostrarResultadosComplejos(); };
        }

        function mostrarResultadosComplejos() {
            navegar('ui-juego', 'p-resultado');
            const cont = document.getElementById('resultado-contenido'); cont.innerHTML = '';
            
            let resultados = jugadores.map(j => {
                let total = 0;
                j.slots.forEach(s => { if(s) total += s.valor; });
                return { ...j, total: total }; 
            });

            resultados.forEach(r => r.total += r.d; border-radius: 20px; overflow: hidden; margin: 20px 0; }
        .video-dados { width: 100%; height: 100%; object-fit: cover; }
        .layer-valor {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: none; align-items: center; justify-content: center;
            font-size: 120px; color: white; font-weight: 900; 
            text-shadow: 0 0 20px #bf00ff, 4px 4px 0 #000;
            background: rgba(0,0,0,0.3);
        }

        /* MODAL BATALLA FINAL (CLASH) */
        #modal-batalla { 
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; 
            background: rgba(0,0,0,0.95); z-index: 9999; 
            display: none; flex-direction: column; 
            align-items: center; justify-content: flex-start; 
            padding-top: 50px; 
        }
        #texto-vs { color: gold; font-size: 24px; font-weight: 900; margin-bottom: 20px; text-align: center; text-shadow: 2px 2px 0 #000; background: rgba(0,0,0,0.5); padding: 10px; width: 90%; border-radius: 10px; }
        #video-clash { width: 95%; max-width: 500px; aspect-ratio: 1/1; object-fit: contain; border: 4px solid gold; box-shadow: 0 0 50px gold; }
        
        #pantalla-cambio-turno { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; background: #000; z-index:ado);
            resultados.sort((a,b) => b.total - a.total);

            // --- V43 GUARDAR HISTORIAL ---
            contadorPartidas++;
            const ganador = resultados[0];
            historialPartidas.push({ id: contadorPartidas, nombre: ganador.nombre, pts: ganador.total });
            actualizarListaHistorial();

            resultados.forEach((r, i) => {
                let htmlSlots = "";
                r.slots.forEach(s => {
                    if(s) htmlSlots += `
                    <div class="fila-res">
                        <div class="res-accion">${s.lado}</div>
                        <div class="res-valor">${s.valor}</div>
                    </div>`;
                });
                
                cont.innerHTML += `
                <div class="resultado-jugador ${i===0 ? 'ganador' : ''}">
                    <h3>${r.nombre}</h3>
                    ${htmlSlots}
                    <div class="fila-dado">
                        <span style="color:#aaa;">DADO:</span>
                        <span class="dado-gigante-res">+${r.dado}</span>
                    </div>
                    <div class="total-score">${r.total}</div>
                </div>`;
            });
        }

        function actualizarListaHistorial() {
            const lista = document.getElementById('lista-historial');
            lista.innerHTML = "";
            [...historialPartidas].reverse().forEach(h => {
                lista.innerHTML += `
                <div class="item-historial">
                    <span>CONTIENDA #${h.id}</span>
                    <strong>${h.nombre} (${h.pts} pts)</strong>
                </div>`;
            });
        }

    </script>

    <!-- LOGICA AR -->
    <script type="module">
        import * as THREE from 'three';
        import { MindARThree } from 'mindar-image-three';

        let mindarThree = null; let cartaDetectada = null;
        const ui = { scanner: document.getElementById('guia-scanner'), msg: document.getElementById('msg-visor'), videoAction: document.getElementById('video-action') };

        window.iniciarAR = async function() {
            if(mindarThree) return;
            mindarThree = new MindARThree({ container: document.getElementById('container-ar'), imageTargetSrc: RUTA_BASE + 'targets1.mind', maxTrack: 1, filterMinCF: 0.0001, filterBeta: 0.001, uiLoading: "no", uiScanning: "no", uiError: "no" });
            const {renderer 8000; display: none; flex-direction: column; align-items: center; justify-content: center; text-align: center; }

        /* RESULTADOS Y HISTORIAL V43 */
        #resultado-batalla { width: 100%; flex: 1; overflow-y: auto; padding-bottom: 20px; }
        
        .resultado-jugador { background: #333; margin: 10px 0; padding: 20px; border-radius: 15px; border-left: 10px solid #777; }
        .ganador { border-color: gold; box-shadow: 0 0 30px gold; border-left: 10px solid gold; }
        .total-score { font-size: 70px; color: gold; font-weight: 900; text-align: right; text-shadow: 4px 4px 0 #000; margin-top: 10px; line-height: 1; }
        
        .fila-res { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; border-bottom: 1px solid #555; padding-bottom: 5px; }
        .res-accion { font-size: 20px; color: white; font-weight: bold; text-transform: uppercase; }
        .res-valor { font-size: 35px; color: #fff; font-weight: 900; }
        .fila-dado { display: flex; justify-content: space-between; align-items: center; margin-top: 15px; background: #22, scene, camera} = mindarThree;

            for(let i=0; i<10; i++) {
                const anchor = mindarThree.addAnchor(i); anchor.group.add(new THREE.Mesh(new THREE.PlaneGeometry(1,1), new THREE.MeshBasicMaterial({transparent:true, opacity:0})));
                anchor.onTargetFound = () => {
                    cartaDetectada = CARTAS[i]; if(!cartaDetectada) return;
                    if(cartaDetectada.tipo === "ARTEFACTO") ui.scanner.className = 'violeta'; else if(cartaDetectada.tipo === "BUHO") ui.scanner.className = 'dorado'; else ui.scanner.className = 'verde';
                    ui.msg.innerText = cartaDetectada.nombre; actualizarBotones(cartaDetectada);
                };
                anchor.onTargetLost = () => { cartaDetectada = null; ui.scanner.className = ''; ui.msg.innerText = "BUSCANDO..."; resetBotones(); document.getElementById('hud-derecho').style.display = 'none'; };
            }

            ['btn-i', 'btn-a', 'btn-t', 'btn-m'].forEach(id => {
                document.getElementById(id).onclick = () => {
                    if(!cartaDetectada) return;
                    const conf = cartaDetectada.botones[id];
                    jugadaPendiente = { carta: cartaDetectada, lado: conf.label, valor: (typeof conf.valor==='number'?conf.valor:5), video: conf.video, tipoLado: id.split('-')[1].toUpperCase() };
                    
                    ui.videoAction.style.display =2; padding: 10px; border-radius: 10px; }
        .dado-gigante-res { font-size: 60px; color: #0f0; font-weight: 900; text-shadow: 2px 2px 0 #000; }

        /* SECCION HISTORIAL */
        #seccion-historial { margin-top: 30px; border-top: 2px dashed #444; padding-top: 15px; }
        #lista-historial { display: flex; flex-direction: column; gap: 5px; }
        .historial-item {
            background: #1a1a1a; padding: 15px; border-radius: 8px;
            display: flex; justify-content: space-between; align-items: center;
            border-left: 4px solid #555; color: #999;
        }
        .hist-num { font-weight: bold; color: #555; } 'block';
                    ui.videoAction.src = RUTA_BASE + conf.video;
                    ui.msg.style.display = 'none';

                    const hud = document.getElementById('hud-derecho');
                    hud.style.display = 'flex';
                    document.getElementById('hud-img-escudo').src = RUTA_BASE + cartaDetectada.imgEscudo;
                    document.getElementById('hud-txt-accion').innerText = conf.label;
                    document.getElementById('hud-txt-valor').innerText = conf.valor;

                    const playPromise = ui.videoAction.play();
                    if(playPromise !== undefined) playPromise.catch(e => { console.error("Error video:", e); });

                    ui.videoAction.onended = () => { 
                        ui.videoAction.style.display = 'none'; 
                        ui.msg.style.display = 'block'; 
                        ui.msg.innerText = "LISTO: CONFIRMA ABAJO"; 
                    };
                };
            });

            await mindarThree.start(); renderer.setAnimationLoop(() => { renderer.render(scene, camera); });
        };

        document.getElementById('btn-confirmar').onclick = () => {
            if(!jugadaPendiente) { alert("Â¡Escanea una carta primero!"); return; }
            jugadores[turnoJugadorIdx].slots[slotActual] = { nombre: jugadaPendiente.carta.nombre, elemento: jugadaPendiente.carta.elemento, lado: jugadaPendiente.lado, valor: jugadaPendiente.valor, tipoLado: jugadaPendiente.tipoLado };
            turnoJugadorIdx++;
            if(turnoJugadorIdx >= cantJugadores) { turnoJugadorIdx = 0; slotActual++; }
            if(slotActual >= MAX_SLOTS) { iniciarFaseDadosBatalla(); } else { mostrarPantallaCambio(); } 
        };

        function actualizarBotones(c) { ['btn-i','btn-a','btn-t','btn-m'].forEach(id=>{ const b=document.getElementById(id); const cf=c.botones[id]; b.innerHTML=`<span class="letra-grande">${cf.texto}</span>`; b.style.backgroundColor=cf.color; b.classList.add('activo'); }); }
        function resetBotones() { ['btn-i','btn-a','btn-t','btn-m'].forEach(id=>{ const b=document.getElementById(id); b.innerHTML=`<span class="letra-grande
        .hist-winner { color: gold; font-weight: 900; text-transform: uppercase; }
        .hist-pts { font-size: 14px; }

        /* CONTENEDOR BOTONES FINALES */
        #botones-finales {
            width: 100%; display: flex; gap: 10px; padding-top: 10px; border-top: 2px solid #333;
            background: #000; flex-shrink: 0;
        }

    </style>
</head>
<body>

    <div id="container-ar"></div>

    <!-- MODAL FASE DE DADOS (PREVIO A BATALLA) -->
    <div id="modal-dados-fase">
        <h2 style="color:#aaa; margin:0;">TIRADA DE PODER</h2>
        <h1 id="dados-player-name" style="color:gold; font-size:40px; margin:10px 0; text-transform: uppercase;">JUGADOR 1</h1>
        
        <div class="dados-container">
            <video id="video-dados-batalla" class="video-dados" src="https://kairosravina-bot.github.io/domusmagis/Dados.mp4" playsinline webkit-playsinline muted></video>
            <div id="layer-valor-batalla" class="layer-valor">0</div>
        </div>
        <p style="color:#666;">Calculando destino...</p>
    </div>
    
    <!-- MODAL BATALLA FINAL (CLASH) -->
    <div id="modal-batalla">
        <div id="texto-vs">BATALLA</div>
        <video id="video-clash" playsinline webkit-playsinline></video>
    </div>

    <!-- PANTALLA CAMBIO TURNO -->
    <div id="pantalla-cambio-turno">
        <h1 style="font-size:50px; color: red;">ðŸ›‘ ALTO ðŸ›‘</h1>
        <p style="font-size:20px;">TURNO DE:</p>
        <h2 style="color:gold; font-size:40px; text-transform:uppercase;" id="next-player-name">JUGADOR</h2>
        <button class="btn-master" style="background:white; color:black; margin-top:30px;" onclick="confirmarCambioTurno()">Â¡SOY YO!</button>
    </div>

    <!-- 1. INICIO -->
    <div id="p-inicio" class="pantalla">
        <button class="btn-master" onclick="irMenuPrincipal()">âš¡ INICIAR âš¡</button>
        <h2 style="color:#bf00ff; font-size: 30px;">DOMUS MAGI V43</h2>
    </div>

    <!-- 2. MENÃš PRINCIPAL -->
    <div id="p-menu-principal" class="pantalla oculto">
        <video id="intro-video" src="https://kairosravina-bot.github.io/domusmagis/presentacion.mp4" playsinline webkit-playsinline muted style="width:100%; border-radius:10px; margin-bottom:10px;"></video>
        <div class="fila-juego">">${id.split('-')[1].toUpperCase()}</span>`; b.style.backgroundColor='#222'; b.classList.remove('activo'); }); }
    </script>
</body>
</html>